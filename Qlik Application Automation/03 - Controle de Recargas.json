{"blocks":[{"id":"C02CF3ED-8B40-4C46-8F8A-6273C3B9B56F","type":"StartBlock","x":100,"y":100,"disabled":false,"name":"AppReloadFinished","displayName":"App Reload Finished","comment":"","childId":"C589EB25-88E6-4DCC-82D8-1D696B9C3E54","inputs":[{"id":"run_mode","value":"webhook","type":"select","structure":{}},{"id":"datasourcetype_guid","value":"61a87510-c7a3-11ea-95da-0fb0c241e75c","type":"select","displayValue":"Qlik Cloud Services","structure":[]},{"id":"webhook_event_guid","value":"2ad48ec0-889f-11eb-91d9-d92131915ff0","type":"select","displayValue":"App Reload Finished","structure":[]},{"id":"webhook_param_4d669700-5ddb-11ec-b6db-59878ae0ea82","value":null,"type":"string","structure":[]},{"id":"test_payload","value":"{\n  \"data\": {\n    \"id\": \"94a789ad-d967-4049-8aaf-9abac267c222\",\n    \"name\": \"succesful reload test 2\",\n    \"size\": {\n      \"memory\": 330\n    },\n    \"errors\": [],\n    \"status\": \"ok\",\n    \"endTime\": \"2021-09-09T09:26:52.849Z\",\n    \"duration\": 395,\n    \"reloadId\": \"6139d35322f4b7b6f66b1444\",\n    \"warnings\": [],\n    \"peakMemoryBytes\": 3894208\n  },\n  \"source\": \"com.qlik/engine\",\n  \"eventId\": \"2f6517c2-388a-4e28-803e-7491a0185b86\",\n  \"eventTime\": \"2021-09-09T09:26:52Z\",\n  \"eventType\": \"com.qlik.v1.app.reload.finished\",\n  \"extensions\": {\n    \"userId\": \"BlVarUAUM9I0ei3MmKMejlDaF1sKPnN5\",\n    \"tenantId\": \"WL69WlNT4PRbwAA8EZ1sDblqjthluHL1\",\n    \"topLevelResourceId\": \"94a789ad-d967-4049-8aaf-9abac267c222\"\n  },\n  \"contentType\": \"application/json\",\n  \"eventTypeVersion\": \"1.0.0\",\n  \"cloudEventsVersion\": \"0.1\"\n}","type":"json","structure":[]},{"id":"webhook_documentation","value":null,"type":"string","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"logo":"https://cdn.qlikcloud.com/automations/logos/21dd4ad9985d490e7bfd7a644d783489.png"},{"id":"A655624F-EB76-4A91-8670-AE27A6A73529","type":"EndpointBlock","x":109.8000030517578,"y":324,"disabled":false,"name":"appendOneRowToSheet","displayName":"Google Sheets - Append One Row To Sheet","comment":"","childId":"2EEA8346-C4E6-454F-984F-B538D80980ED","inputs":[{"id":"e6476d10-ff34-11eb-8b4b-2710741a134c","value":"1BL1AGWZWnuqYkapw2Y1JCZb39lWEG8OVpZDqobTIles","type":"string","displayValue":"partner-engineering-saas","structure":[]},{"id":"e6dd0680-ff34-11eb-82f7-dd5c55a232a9","value":"reload-stats","type":"string","displayValue":"reload-stats","structure":[]},{"id":"e66d88c0-ff34-11eb-bf0f-01c240f9d8b4","value":"{$.AppReloadFinished.data.id}","type":"string","structure":[]},{"id":"e67389b0-ff34-11eb-9f6b-31c7ea6c5ab2","value":"{$.GetAppInformation.info.attributes.name}","type":"string","structure":[]},{"id":"e67b7260-ff34-11eb-b5aa-a56ba641f96f","value":"{$.AppReloadFinished.data.endTime}","type":"string","structure":[]},{"id":"e687d770-ff34-11eb-a213-5bcb3a57fb21","value":"{$.AppReloadFinished.data.status}","type":"string","structure":[]},{"id":"e6944b20-ff34-11eb-935e-d1808ce53f37","value":"{$.AppReloadFinished.data.duration}","type":"string","structure":[]},{"id":"e69dbcf0-ff34-11eb-a76d-53737d2dfb54","value":"{$.AppReloadFinished.data.size.memory}","type":"string","structure":[]},{"id":"e6a3def0-ff34-11eb-9061-0bb00bc45e77","value":"{$.GetAppInformation.metadata.static_byte_size}","type":"string","structure":[]},{"id":"e6a9aeb0-ff34-11eb-af53-43eeaf434663","value":"{$.AppReloadFinished.data.peakMemoryBytes}","type":"string","structure":[]},{"id":"e6aec180-ff34-11eb-bbc3-dd1e0be1b43b","value":null,"type":"string","structure":[]},{"id":"e6b6aa40-ff34-11eb-b38a-77f3e28040af","value":null,"type":"string","structure":[]},{"id":"e6bdbf90-ff34-11eb-848c-45e5365312f9","value":null,"type":"string","structure":[]},{"id":"e6c3c330-ff34-11eb-834a-9b0b49a61ddd","value":null,"type":"string","structure":[]},{"id":"e6c8d300-ff34-11eb-944a-2d32e27a6252","value":null,"type":"string","structure":[]},{"id":"e6d0a4c0-ff34-11eb-9eab-5b535e888b51","value":null,"type":"string","structure":[]},{"id":"e6d793b0-ff34-11eb-adc3-8191406c1f58","value":null,"type":"string","structure":[]},{"id":"e6e672a0-ff34-11eb-9e95-4d2fce891140","value":null,"type":"string","structure":[]},{"id":"e6f39790-ff34-11eb-8ad7-d7e169f9b395","value":null,"type":"string","structure":[]},{"id":"e6fdf500-ff34-11eb-82fd-757f0f8b43fe","value":null,"type":"string","structure":[]},{"id":"e7046f20-ff34-11eb-a276-4384d5a2ecd9","value":null,"type":"string","structure":[]},{"id":"e70c9080-ff34-11eb-a25b-c5ab236b48ea","value":null,"type":"string","structure":[]},{"id":"e713a3f0-ff34-11eb-9789-eb209b35bc62","value":null,"type":"string","structure":[]},{"id":"e71b4830-ff34-11eb-9ce2-c5ea9cb29af7","value":null,"type":"string","structure":[]},{"id":"e7255dc0-ff34-11eb-b16a-9fa18c0a89aa","value":null,"type":"string","structure":[]},{"id":"e72dd6c0-ff34-11eb-b3bc-5567bbce33af","value":null,"type":"string","structure":[]},{"id":"e7359200-ff34-11eb-8c6b-fb5cf27a0432","value":null,"type":"string","structure":[]},{"id":"e73c3cf0-ff34-11eb-a3d4-0d9b2a9d76b7","value":null,"type":"string","structure":[]},{"id":"e7418720-ff34-11eb-ab2f-31e70a45185b","value":null,"type":"string","structure":[]},{"id":"e74701a0-ff34-11eb-976f-e773f81b4c8f","value":null,"type":"string","structure":[]},{"id":"e74c9050-ff34-11eb-ac5f-8bfd7a6dc8ae","value":null,"type":"string","structure":[]},{"id":"e75278a0-ff34-11eb-817b-c9166cf70bff","value":null,"type":"string","structure":[]},{"id":"e7577070-ff34-11eb-9264-31372c7d3056","value":null,"type":"string","structure":[]},{"id":"e75c57a0-ff34-11eb-8b65-e5b26be19571","value":null,"type":"string","structure":[]},{"id":"e7647470-ff34-11eb-84bd-cf4382a569c0","value":null,"type":"string","structure":[]},{"id":"e76b5cb0-ff34-11eb-99ba-a3236c23ef7f","value":null,"type":"string","structure":[]},{"id":"e7710470-ff34-11eb-9511-6390595f1380","value":null,"type":"string","structure":[]},{"id":"e775ef80-ff34-11eb-b1fe-45b34e721533","value":null,"type":"string","structure":[]},{"id":"e77b1c20-ff34-11eb-ad66-4904f1fb7679","value":null,"type":"string","structure":[]},{"id":"e7804bf0-ff34-11eb-9c29-7b7b94483c82","value":null,"type":"string","structure":[]},{"id":"e7850e90-ff34-11eb-8e98-430b4f9843f8","value":null,"type":"string","structure":[]},{"id":"e7899aa0-ff34-11eb-82d6-ff7a53209487","value":null,"type":"string","structure":[]},{"id":"e79267d0-ff34-11eb-aae9-f144e479c0a0","value":null,"type":"string","structure":[]},{"id":"e799e410-ff34-11eb-a066-1f662dc73fef","value":null,"type":"string","structure":[]},{"id":"e7a07eb0-ff34-11eb-ac0a-8d7ca5a1508a","value":null,"type":"string","structure":[]},{"id":"e7a55350-ff34-11eb-b2c1-8fae6d80a359","value":null,"type":"string","structure":[]},{"id":"e7accc60-ff34-11eb-846f-115247a239a6","value":null,"type":"string","structure":[]},{"id":"e7b94d90-ff34-11eb-9dc1-17feb033ac20","value":null,"type":"string","structure":[]},{"id":"e7b1c4f0-ff34-11eb-8925-47d9116cb739","value":null,"type":"string","structure":[]},{"id":"e7bf8eb0-ff34-11eb-ba0f-f3c9c890f893","value":null,"type":"string","structure":[]},{"id":"e7c5ef60-ff34-11eb-9c23-5b51a9d417b3","value":null,"type":"string","structure":[]},{"id":"e7cc4b40-ff34-11eb-abd3-614660c52581","value":null,"type":"string","structure":[]},{"id":"e7d15230-ff34-11eb-89e4-dd93e482db4b","value":null,"type":"string","structure":[]},{"id":"e7d6d0d0-ff34-11eb-b56e-71cd95aea83d","value":null,"type":"string","structure":[]},{"id":"e7dce200-ff34-11eb-ab9b-ef4c9abcc5f7","value":null,"type":"string","structure":[]},{"id":"e7e26770-ff34-11eb-96bd-7d90832d17c4","value":null,"type":"string","structure":[]},{"id":"e7ecf160-ff34-11eb-8ac9-cb3005870ca1","value":null,"type":"string","structure":[]},{"id":"e7f41890-ff34-11eb-8a76-8b4b38860191","value":null,"type":"string","structure":[]},{"id":"e7fba920-ff34-11eb-8682-1fee9128d19d","value":null,"type":"string","structure":[]},{"id":"e809a570-ff34-11eb-b148-373240c11347","value":null,"type":"string","structure":[]},{"id":"e8125240-ff34-11eb-8201-eff5c78631c0","value":null,"type":"string","structure":[]},{"id":"e81bacc0-ff34-11eb-8fa6-370577f53ac7","value":null,"type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"0d86f238-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"e64054d0-ff34-11eb-8c4c-71c782f594e8","endpoint_role":"create"},{"id":"C589EB25-88E6-4DCC-82D8-1D696B9C3E54","type":"SnippetBlock","x":100,"y":340,"disabled":false,"name":"GetAppInformation","displayName":"Qlik Cloud Services - Get App Information","comment":"","childId":"A655624F-EB76-4A91-8670-AE27A6A73529","inputs":[{"id":"d3acbdc0-a8d2-11eb-8827-056900eab788","value":"{$.AppReloadFinished.data.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"d3a8d4f0-a8d2-11eb-a81d-ffabb68491fb"},{"id":"2EEA8346-C4E6-454F-984F-B538D80980ED","type":"IfElseBlock","x":129,"y":403,"disabled":false,"name":"condition","displayName":"Condition","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.AppReloadFinished.data.status}","operator":"!=","input2":"ok"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"childTrueId":"BFAE7353-7455-4400-827F-B8620232D3C5","childFalseId":null},{"id":"7AAFB92E-C55E-4F9D-B49F-D57414A02A18","type":"ForEachBlock","x":218,"y":483,"disabled":false,"name":"loop","displayName":"Loop","comment":"","childId":"F7FA7B31-981C-4DD9-BC63-6DE0F0BA9830","inputs":[{"id":"input","value":"{$.AppReloadFinished.data.errors}","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"29A731DA-8CE0-4A28-9C1D-D3A19394E33C"},{"id":"BFAE7353-7455-4400-827F-B8620232D3C5","type":"VariableBlock","x":247,"y":489,"disabled":false,"name":"ErrorMessage","displayName":"Variable - ErrorMessage","comment":"","childId":"7AAFB92E-C55E-4F9D-B49F-D57414A02A18","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"B1C9E793-B528-4837-B69C-B5E9F0F70DC7","operations":[]},{"id":"29A731DA-8CE0-4A28-9C1D-D3A19394E33C","type":"VariableBlock","x":368,"y":724,"disabled":false,"name":"ErrorMessage","displayName":"Variable - ErrorMessage","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"B1C9E793-B528-4837-B69C-B5E9F0F70DC7","operations":[{"id":"append","key":"C50E5CCB-6469-436B-AED8-453262840FB3","name":"Append to { variable }","value":"{$.loop.item.error} on line {$.loop.item.lineNumber}{linebreak}"}]},{"id":"F7FA7B31-981C-4DD9-BC63-6DE0F0BA9830","type":"EndpointBlock","x":231,"y":897,"disabled":false,"name":"sendHtmlMessage","displayName":"Microsoft Teams - Send Html Message","comment":"","childId":null,"inputs":[{"id":"bcb8e600-d3ee-11eb-ba9f-dfa3f348c5e5","value":"48d0c8d7-99cc-4cdd-8f55-b4dc1c6c9235","type":"string","displayValue":"Partner Engineering Tenant Alerts","structure":[]},{"id":"bcc940a0-d3ee-11eb-af2d-43ff9170b916","value":"19:dc8d805b3e6f43508020607941c56eb9@thread.tacv2","type":"string","displayValue":"Failed Reloads","structure":[]},{"id":"bcd82fe0-d3ee-11eb-a0c2-2b8aa02accfc","value":"<h1>{$.GetAppInformation.info.attributes.name} failed! <h2><br/>\n{$.ErrorMessage}","type":"longtext","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"0d87af8f-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"bc7b7d80-d3ee-11eb-a0a1-77b7ef364bf9","endpoint_role":"create"}],"variables":[{"guid":"B1C9E793-B528-4837-B69C-B5E9F0F70DC7","name":"ErrorMessage","type":"string"}]}
